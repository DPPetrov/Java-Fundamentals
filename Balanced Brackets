import java.util.Scanner;

public class CharacterCheck {
    public static void main(String[] args) {
        Scanner sc = new Scanner(System.in);
        int input = Integer.parseInt(sc.nextLine());
         boolean wrongBrace = false;
        //boolean hasRightBracket = false;
        int leftBracketCounter = 0;
        int rightBracketCounter = 0;

        while (input > 0) {
            String newInput = sc.nextLine();
            if (newInput.equals(")")){
                wrongBrace = true;
                continue;
            }
            if (newInput.equals("(")){
                leftBracketCounter++;
            }else if (newInput.equals(")")){
                rightBracketCounter++;
            }
            input--;
        }

            if (wrongBrace){
                System.out.println("UNBALANCED");
            }else if (leftBracketCounter == rightBracketCounter){
                System.out.println("BALANCED");
            }

        }
    }

